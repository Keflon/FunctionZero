<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:cz="clr-namespace:FunctionZero.Maui.Controls;assembly=FunctionZero.Maui.ControlsZero"
             x:Class="ShowcaseZero.Mvvm.Pages.TreeGrid.TreeGridExperimentalPage"
             Title="Welcome to TreeGridExperimentalPage!">


    <Grid ColumnDefinitions="200, 20, 200, 20, 200, 20, 200">

        <cz:ListViewZero x:Name="lv0" Grid.Column="0" ItemsSource="{Binding ListChildren}" SelectionMode="Single" PropertyChanged="lvx_PropertyChanged">
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>

        </cz:ListViewZero>

        <cz:GridSplitterZero Grid.Column="1" BackgroundColor="AliceBlue"/>


        <!--<sb:CustomScrollView x:Name="scrollView"
             VerticalOptions="Fill" />-->


        <cz:ListViewZero x:Name="lv1" Grid.Column="2" ItemsSource="{Binding ListChildren}" SelectionMode="Single" PropertyChanged="lvx_PropertyChanged" SelectedItem="{Binding SelectedItem, Source={x:Reference lv0}}">
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>

        </cz:ListViewZero>

        <cz:GridSplitterZero Grid.Column="3" BackgroundColor="AliceBlue"/>

        <cz:ListViewZero x:Name="lv2" Grid.Column="4" ItemsSource="{Binding ListChildren}" SelectionMode="Single" PropertyChanged="lvx_PropertyChanged" SelectedItem="{Binding SelectedItem, Source={x:Reference lv0}}">
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>

        </cz:ListViewZero>

        <cz:GridSplitterZero Grid.Column="5" BackgroundColor="AliceBlue"/>
        
        <Label Grid.Column="6" Text="{Binding RemainingItems, Source={x:Reference lv0}}"/>

    </Grid>

    <!--<Grid ColumnDefinitions="200,20,200">

        <cz:TreeViewZero 
            ItemsSource="{Binding RootNode}" 
            BackgroundColor="AliceBlue" 
            ItemHeight="35"
            IndentMultiplier="20" 
            >
            <cz:TreeViewZero.TreeItemTemplate>
                <cz:TreeItemDataTemplate ChildrenPropertyName="Children" IsExpandedPropertyName="IsExpanded">
                    <DataTemplate>
                        <Label Text="{Binding Title}" BackgroundColor="Brown" />
                    </DataTemplate>
                </cz:TreeItemDataTemplate>
            </cz:TreeViewZero.TreeItemTemplate>
        </cz:TreeViewZero>
        <Label Text="{Binding Children.Count}"/>



        <sb:CustomScrollView x:Name="scrollView"
             VerticalOptions="Fill" />

        <cz:ListViewZero x:Name="lv1" Grid.Column="0" ItemsSource="{Binding ListChildren}">
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>
            
        </cz:ListViewZero>

        <cz:GridSplitterZero Grid.Column="1" BackgroundColor="AliceBlue"/>

        <cz:ListViewZero Grid.Column="2" ItemsSource="{Binding ListChildren}" ScrollOffset="{Binding ScrollOffset, Source={x:Reference lv1}, Mode=OneWay}">
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>

        </cz:ListViewZero>

    </Grid>-->
</ContentPage>