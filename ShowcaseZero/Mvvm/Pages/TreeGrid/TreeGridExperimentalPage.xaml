<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:cz="clr-namespace:FunctionZero.Maui.Controls;assembly=FunctionZero.Maui.ControlsZero"
             xmlns:tg="clr-namespace:ShowcaseZero.Mvvm.Pages.TreeGrid"
             x:Class="ShowcaseZero.Mvvm.Pages.TreeGrid.TreeGridExperimentalPage"
             Title="Welcome to TreeGridExperimentalPage!">

    <Grid ColumnDefinitions="2*,*,*">
        <cz:TreeGridViewZero 
            Grid.Column="0"
            SelectionMode="Single"
            ItemsSource="{Binding RootNode}" 
            BackgroundColor="AliceBlue" 
            ItemHeight="30"
            IndentMultiplier="20" 
            >
            <cz:TreeGridViewZero.Resources>
                <Style TargetType="cz:Chevron">
                    <Setter Property="ChevronImageSource" Value="fr.png"/>
                </Style>
            </cz:TreeGridViewZero.Resources>

            <cz:TreeGridViewZero.TreeItemTemplate>
                <!--<cz:TreeItemDataTemplate ChildrenPropertyName="Children" IsExpandedPropertyName="IsExpanded" IsPrimarySelectionItemPropertyName="IsPrimarySelection">-->
                <cz:TreeItemDataTemplate ChildrenPropertyName="Children" IsExpandedPropertyName="IsExpanded" >
                    <cz:TreeItemDataTemplate.DataTemplateContent>
                        <tg:TestDataTemplateSelector >
                            <tg:TestDataTemplateSelector.First>
                                <DataTemplate>
                                    <Label Text="{Binding Title}" BackgroundColor="LightBlue" />
                                </DataTemplate>
                            </tg:TestDataTemplateSelector.First>
                            <tg:TestDataTemplateSelector.Second>
                                <DataTemplate>
                                    <Label Text="{Binding Title}" BackgroundColor="Yellow" />
                                </DataTemplate>
                            </tg:TestDataTemplateSelector.Second>
                        </tg:TestDataTemplateSelector>

                    </cz:TreeItemDataTemplate.DataTemplateContent>
                </cz:TreeItemDataTemplate>
            </cz:TreeGridViewZero.TreeItemTemplate>

            <cz:TreeGridViewZero.ColumnsSource>
                <cz:GridColumnZero BackgroundColor="Red" >
                    <cz:GridColumnZero.ItemTemplate>
                        <DataTemplate>
                            <Editor Text="{Binding Title}" />
                        </DataTemplate>
                    </cz:GridColumnZero.ItemTemplate>
                </cz:GridColumnZero>
                <cz:GridColumnZero BackgroundColor="Green" >
                    <cz:GridColumnZero.ItemTemplate>
                        <DataTemplate>
                            <Label Text="{Binding Title}" Scale="0.8"/>
                        </DataTemplate>
                    </cz:GridColumnZero.ItemTemplate>
                </cz:GridColumnZero>
                <cz:GridColumnZero BackgroundColor="Blue" >
                    <cz:GridColumnZero.ItemTemplate>
                        <DataTemplate>
                            <Label Text="{Binding Title}"/>
                        </DataTemplate>
                    </cz:GridColumnZero.ItemTemplate>
                </cz:GridColumnZero>
            </cz:TreeGridViewZero.ColumnsSource>

        </cz:TreeGridViewZero>



        <cz:GridViewZero 
            Grid.Column="1"
        SelectionMode="Single"
        ItemsSource="{Binding ListChildren}"
         
        Margin="10">
            <cz:GridViewZero.ColumnsSource>
                <cz:GridColumnZero BackgroundColor="Red" >
                </cz:GridColumnZero>
                <cz:GridColumnZero BackgroundColor="Green" >
                    <cz:GridColumnZero.ItemTemplate>
                        <tg:TestDataTemplateSelector >
                            <tg:TestDataTemplateSelector.First>
                                <DataTemplate>
                                    <Label Text="{Binding }" Rotation="12" />
                                </DataTemplate>
                            </tg:TestDataTemplateSelector.First>
                            <tg:TestDataTemplateSelector.Second>
                                <DataTemplate>
                                    <Label Text="{Binding }"  Rotation="-12" />
                                </DataTemplate>
                            </tg:TestDataTemplateSelector.Second>
                        </tg:TestDataTemplateSelector>

                        <!--<DataTemplate>
                            <Label Text="{Binding}" Scale="0.8"/>
                        </DataTemplate>-->
                    </cz:GridColumnZero.ItemTemplate>
                </cz:GridColumnZero>
                <cz:GridColumnZero BackgroundColor="Blue" >
                </cz:GridColumnZero>
            </cz:GridViewZero.ColumnsSource>
        </cz:GridViewZero>

        <cz:ListViewZero
            Grid.Column="2"
            BackgroundColor="Azure"
            ItemsSource="{Binding ListChildren}"
            SelectionMode="Multiple"
>
            <cz:ListViewZero.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding}"/>
                </DataTemplate>
            </cz:ListViewZero.ItemTemplate>
        </cz:ListViewZero>
    </Grid>
</ContentPage>